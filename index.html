<html>
<head>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <style>
    .std { width: 150px; height: 150px; padding: 0.5em; }
    /*
    .draggable { width: 150px; height: 150px; padding: 0.5em; }
    */
    .page { background-image: url('grid120.png') }
    </style>
    <script>
    var manager, ctx, obj
    $(function() {
        ctx = {}
        ctx.$page = $(".page")
        ctx.manager = {}
        ctx.nextCreationPosition = { left: 100, top: 100 }
        var m = ctx.manager
        console.log(ctx.$page.position());
        m.createPanel = function () {
          obj = $("<div class='ui-widget-content std draggable resizable'>aaa</div>")
          .appendTo(ctx.$page)
          .draggable()
          .position({ my: "left top", at: "left+200, top+0", of: ctx.$page})
          console.log("yyyy");
        }

        $( ".draggable" ).draggable();
        $( ".resizable" ).resizable();
        $( "#text" ).draggable();

        $("#pannelButton").click(function (e) {
          m.createPanel()
        })
    });
    </script>
</head>
<body style="">
  <div class="page">
    <div class="ui-widget-content std draggable resizable">
        <button>Input Text</button>
        <button id="pannelButton">Pannel</button>
        <button id="headerButton">Header</button>
        <button>Footer</button>
        <button>Left Sidebar</button>
        <button>Right Sidebar</button>
    </div>
    <div class="ui-widget-content std draggable resizable">
        <p>Drag me around</p>
    </div>
    <div id="text" style="padding: 8">
    <input type="text" size="20" />
    </div>
  </div>
</body>
</html>
